# Changelog

## [1.1.2] - 2025-01-26

### Am√©lioration de la gestion des connexions et diagnostics üîß

#### Ajout√©
- **Limitation des reconnexions** : Le client s'arr√™te automatiquement apr√®s 4 fermetures de connexion par le serveur en 1 minute
- **Backoff exponentiel intelligent** : D√©lai progressif (100ms ‚Üí 500ms ‚Üí 1s ‚Üí 2s+) entre les tentatives de reconnexion
- **Commande `check-token`** : V√©rification du token sauvegard√© avec aper√ßu s√©curis√©
- **Commande `debug-config`** : Diagnostic complet des permissions et configuration sur Linux
- **Meilleure gestion des erreurs token** : Messages d'erreur plus pr√©cis pour les probl√®mes de permissions

#### Am√©lior√©
- **Gestion des permissions Linux** : V√©rification automatique des permissions de lecture/√©criture
- **S√©curit√© des tokens** : Permissions de fichier restreintes (600) pour les tokens
- **Messages d'erreur** : Distinction claire entre "pas de token" et "erreurs de permissions"
- **V√©rification post-sauvegarde** : Validation automatique que le token a √©t√© correctement sauvegard√©

#### Corrig√©
- **Boucles de reconnexion infinies** : Arr√™t intelligent apr√®s trop d'√©checs
- **Probl√®mes de tokens sur Linux** : Meilleure d√©tection et correction des probl√®mes de permissions
- **Tokens vides ou corrompus** : Validation et messages d'erreur appropri√©s

#### Technique
- Nouvelle classe `ConnectionFailureTracker` pour surveiller les √©checs
- Am√©lioration du module `config.js` avec v√©rifications de permissions
- Logging de d√©bogage pour faciliter le troubleshooting

---

## [1.1.1] - 2025-01-26

### Am√©liorations de la stabilit√© de connexion üöÄ

#### Ajout√©
- **Gestion des heartbeats** : Le client re√ßoit et traite maintenant correctement les messages de heartbeat du serveur
- **Monitoring de connexion** : D√©tection automatique des connexions mortes en surveillant les heartbeats
- **Timeouts optimis√©s** : Tous les timeouts sont maintenant synchronis√©s avec le serveur

#### Modifi√©
- **TCP Keep-Alive** : Augment√© de 30s √† 60s pour correspondre au serveur
- **Timeouts de connexion** : Augment√©s de 60s √† 120s pour les connexions de donn√©es
- **Timeout de contr√¥le** : Augment√© √† 180s (3 minutes) pour la connexion de contr√¥le
- **Gestion d'erreur** : Meilleure propagation d'erreurs pour d√©clencher la reconnexion

#### Corrig√©
- **D√©connexions fr√©quentes** : R√©solution du probl√®me de d√©connexion toutes les 30-45 secondes
- **Timeout pr√©matur√©** : Les connexions ne se ferment plus pr√©matur√©ment
- **D√©tection de panne** : Meilleure d√©tection des connexions ferm√©es c√¥t√© serveur

#### Technique
- Ajout de la classe `HeartbeatMsg` pour les messages de heartbeat
- Fonction `startHeartbeatMonitoring()` pour surveiller la sant√© de la connexion
- Synchronisation des param√®tres r√©seau avec les am√©liorations serveur

---

## [1.0.2] - Version pr√©c√©dente
- Fonctionnalit√©s de base du tunnel
- Support des protocols HTTP et TCP
- Gestion des tokens d'authentification 